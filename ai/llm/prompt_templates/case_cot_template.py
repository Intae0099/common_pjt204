import os

# ------------------------------------------------------------------------------
# Chain‑of‑Thought Prompt (3‑Step, Korean)
#   ‑ 출력은 **반드시** 아래 JSON 스키마를 “그대로” 따르며,
#   ‑ JSON 이외의 설명·주석·불필요한 공백을 포함하지 말 것.
#   ‑ 모든 값은 한국어로 작성하되, 키 이름은 영문 camelCase 유지.
# ------------------------------------------------------------------------------

TEMPLATE_COT_CASE_ANALYSIS = """
다음 3단계 사고 과정을 따라 사용자 질문에 답변하세요.
**반드시** 아래 규칙을 지키십시오.

### 규칙
1. 사고 과정을 내부적으로 수행하되, **출력은 오직 JSON**이어야 합니다. (코드블록·주석 금지)
2. JSON 스키마는 예시와 **키·중괄호·배열 순서까지 동일**해야 합니다.
3. 값은 한국어로 작성합니다. (숫자·부호 제외)
4. 필요 없거나 파악되지 않는 값은 null로 두지 말고 **적절히 추론**해 채웁니다.
5. 숫자형 값은 따옴표 없이 기입합니다. (예: 0.84)
6. `issues` 는 최소 1개 이상, **명사형** 문구로 작성합니다.
7. `tags` 는 `분야·주제` 형식의 1개 문자열 배열로 작성합니다.

### 사고 과정
1. **쟁점 파악** – 질문을 요약하고 핵심 법률 쟁점을 명시하라.  
   {analysis_hint_step1}

2. **사실·법리 분석** – 제공된 중요 사실과 적용 법리를 논리적으로 연결하라.  
   {analysis_hint_step2}

3. **결론 제시** – 위 분석을 종합하여 최종 결론과 근거를 한눈에 제시하라.  
   {analysis_hint_step3}

--- 입력 ---
사용자 질문:
{user_query}

관련 판례·법령 정보:
{case_docs}
--- 입력 끝 ---

### 출력 예시 (*구조만 참고, 값은 변경*)
{
  "data": {
    "report": {
      "issues": ["계약 체결 시 기망 여부", "피해 금액 산정"],
      "opinion": "피해 회복 가능성이 높다.",
      "sentencePrediction": "징역 8월 ~ 1년 6월",
      "confidence": 0.84,
      "references": {
        "cases": [
          { "id": 93810, "name": "소유권이전등기말소", "court": "대법원", "year": 1978 }
        ],
        "statutes": [
          { "code": "형법", "article": "347조(사기)" }
        ]
      }
    },
    "tags": ["형사·사기"]
  }
}

### 최종 지침
*위 JSON 예시의 구조·키·배열 순서를 정확히 유지*하여 당신의 답을 작성하십시오.
"""
